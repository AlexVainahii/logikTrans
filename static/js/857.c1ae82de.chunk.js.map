{"version":3,"file":"static/js/857.c1ae82de.chunk.js","mappings":"0RAOIA,EAAYC,IAAAA,KAAO,CACrBC,QAASC,EACTC,SAAU,CAAC,GAAI,IACfC,WAAY,CAAC,GAAI,IACjBC,YAAa,CAAC,GAAI,IAClBC,WAAY,CAAC,GAAI,IACjBC,MAAO,8FACPC,IAAK,gGAwEP,EArEqB,SAAHC,GAAsB,IAAhBC,EAAQD,EAARC,SAChBC,GAAkBC,EAAAA,EAAAA,QAAO,MACzBC,GAASD,EAAAA,EAAAA,QAAO,MAgEtB,OA9DAE,EAAAA,EAAAA,YAAU,WACR,IAAMC,GAAWC,EAAAA,EAAAA,GAAYN,GACvBO,GAAWC,EAAAA,EAAAA,IACfR,EAASS,YACTT,EAASU,kBAELC,GAAOC,EAAAA,EAAAA,IAAQL,GACfM,EAAc,CAClB,CAACb,EAASS,YAAYK,IAAKd,EAASS,YAAYM,KAChD,CAACf,EAASU,iBAAiBI,IAAKd,EAASU,iBAAiBK,MAG5DZ,EAAOa,QAAU1B,IAAAA,IAAMW,EAAgBe,SAASC,QAAQZ,EAAUM,GAElErB,IAAAA,UAAY,qDAAsD,CAChE4B,YACE,+DACFC,WAAY,CAAC,MAAO,MAAO,MAAO,OAClCC,QAAS,KACRC,MAAMlB,EAAOa,SAIhB3B,EAAYC,IAAAA,KAAO,CACjBC,QAASC,EACTC,SAAU,CAAC,GAAI,IACfC,WAAY,CAAC,GAAI,IACjBC,YAAa,CAAC,GAAI,IAClBC,WAAY,CAAC,GAAI,IACjBC,MAAO,8FACPC,IAAK,gGAEPR,IAAAA,OAASU,EAASS,YAAa,CAAEa,KAAMjC,IAAagC,MAAMlB,EAAOa,SAEjE3B,EAAYC,IAAAA,KAAO,CACjBC,QAASC,EACTC,SAAU,CAAC,GAAI,IACfC,WAAY,CAAC,GAAI,IACjBC,YAAa,CAAC,GAAI,IAClBC,WAAY,CAAC,GAAI,IACjBC,MAAO,oGACPC,IAAK,sGAGPR,IAAAA,OAASU,EAASU,iBAAkB,CAAEY,KAAMjC,IAAagC,MACvDlB,EAAOa,SAGT,IAAMO,EAAYjC,IAAAA,SAAWuB,GAAaQ,MAAMlB,EAAOa,SASvD,OARAO,EAAUC,WAAW,CACnBC,KAAM,OACNC,UAAW,YAIbvB,EAAOa,QAAQW,UAAUJ,EAAUK,aAE5B,WACLzB,EAAOa,QAAQa,QACjB,CACF,GAAG,CAAC7B,KAEG8B,EAAAA,EAAAA,KAAA,OAAKC,IAAK9B,EAAiB+B,MAAO,CAAEC,OAAQ,UACrD,C","sources":["components/MapWithRoute.jsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport L from \"leaflet\";\nimport \"leaflet-arrowheads\";\nimport \"leaflet/dist/leaflet.css\";\nimport markerIcon from \"../images/marker-icon.png\";\nimport { getDistance, getZoom, getcentrMap } from \"../fakeApi\";\n\nvar iconStyle = L.icon({\n  iconUrl: markerIcon,\n  iconSize: [30, 31],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41],\n  title: \"Початковий пункт\",\n  alt: \"Початковий пункт\",\n});\n\nconst MapWithRoute = ({ shipment }) => {\n  const mapContainerRef = useRef(null);\n  const mapRef = useRef(null);\n\n  useEffect(() => {\n    const centrMap = getcentrMap(shipment);\n    const distance = getDistance(\n      shipment.originRoute,\n      shipment.destinationRoute\n    );\n    const zoom = getZoom(distance);\n    const coordinates = [\n      [shipment.originRoute.lat, shipment.originRoute.lng],\n      [shipment.destinationRoute.lat, shipment.destinationRoute.lng],\n    ];\n\n    mapRef.current = L.map(mapContainerRef.current).setView(centrMap, zoom);\n\n    L.tileLayer(\"https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}\", {\n      attribution:\n        'Map data &copy; <a href=\"https://www.google.com/\">Google</a>',\n      subdomains: [\"mt0\", \"mt1\", \"mt2\", \"mt3\"],\n      maxZoom: 20,\n    }).addTo(mapRef.current);\n\n    // Додавання маркерів\n\n    iconStyle = L.icon({\n      iconUrl: markerIcon,\n      iconSize: [30, 31],\n      iconAnchor: [12, 41],\n      popupAnchor: [1, -34],\n      shadowSize: [41, 41],\n      title: \"Початковий пункт\",\n      alt: \"Початковий пункт\",\n    });\n    L.marker(shipment.originRoute, { icon: iconStyle }).addTo(mapRef.current);\n\n    iconStyle = L.icon({\n      iconUrl: markerIcon,\n      iconSize: [30, 31],\n      iconAnchor: [12, 41],\n      popupAnchor: [1, -34],\n      shadowSize: [41, 41],\n      title: \"Кінцевийвий пункт\",\n      alt: \"Кінцевийвий пункт\",\n    });\n\n    L.marker(shipment.destinationRoute, { icon: iconStyle }).addTo(\n      mapRef.current\n    );\n    // Додавання лінії маршруту\n    const routeLine = L.polyline(coordinates).addTo(mapRef.current);\n    routeLine.arrowheads({\n      size: \"15px\",\n      frequency: \"endonly\",\n    });\n\n    // Збільшення масштабу, щоб лінія маршруту була видимою\n    mapRef.current.fitBounds(routeLine.getBounds());\n    // Очищення мапи під час розмонтування компонента\n    return () => {\n      mapRef.current.remove();\n    };\n  }, [shipment]);\n\n  return <div ref={mapContainerRef} style={{ height: \"400px\" }} />;\n};\n\nexport default MapWithRoute;\n"],"names":["iconStyle","L","iconUrl","markerIcon","iconSize","iconAnchor","popupAnchor","shadowSize","title","alt","_ref","shipment","mapContainerRef","useRef","mapRef","useEffect","centrMap","getcentrMap","distance","getDistance","originRoute","destinationRoute","zoom","getZoom","coordinates","lat","lng","current","setView","attribution","subdomains","maxZoom","addTo","icon","routeLine","arrowheads","size","frequency","fitBounds","getBounds","remove","_jsx","ref","style","height"],"sourceRoot":""}